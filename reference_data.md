# å…¬å¸æ¶æ§‹åƒè€ƒ

- [å…¬å¸æ¶æ§‹åƒè€ƒ](#å…¬å¸æ¶æ§‹åƒè€ƒ)
  - [å…¬å¸éƒ¨é–€ç¯„ä¾‹èˆ‡èªªæ˜](#å…¬å¸éƒ¨é–€ç¯„ä¾‹èˆ‡èªªæ˜)
  - [å…¬å¸çµæ§‹èˆ‡éƒ¨é–€åŠŸèƒ½å•ç­”](#å…¬å¸çµæ§‹èˆ‡éƒ¨é–€åŠŸèƒ½å•ç­”)
  - [å¾è¨‚å–®ç·¨è™Ÿå–çš„ä¸‹å–®æ—¥æœŸä¸¦è¨ˆç®—èˆ‡ä»Šæ—¥çš„å¤©æ•¸å·®è·](#å¾è¨‚å–®ç·¨è™Ÿå–çš„ä¸‹å–®æ—¥æœŸä¸¦è¨ˆç®—èˆ‡ä»Šæ—¥çš„å¤©æ•¸å·®è·)
  - [polymorphic associations](#polymorphic-associations)
  - [å¾è¨‚å–®æ‰¾äº¤æ˜“å°è±¡](#å¾è¨‚å–®æ‰¾äº¤æ˜“å°è±¡)

## å…¬å¸éƒ¨é–€ç¯„ä¾‹èˆ‡èªªæ˜

1. **Marketing and Sales Department (MSD)**: This department is responsible for promoting the company's products or services, generating leads, and converting these leads into customersÂ¹Â³.
    - Positions:
      1. Marketing Director (è¡ŒéŠ·ç¸½ç›£) - MD
      2. Marketing Manager (è¡ŒéŠ·ç¶“ç†) - MMG
      3. Marketing Coordinator (è¡ŒéŠ·å”èª¿å“¡) - MCO
      4. Marketing Analyst (è¡ŒéŠ·åˆ†æå¸«) - MAN
      5. Marketing Specialist (è¡ŒéŠ·å°ˆå“¡) - MS
      6. Sales Director (éŠ·å”®ç¸½ç›£) - SD
      7. Sales Manager (éŠ·å”®ç¶“ç†) - SMG
      8. Sales Representative (éŠ·å”®ä»£è¡¨) - SRE
      9. Sales Specialist (éŠ·å”®å°ˆå“¡) - SS
      10. Sales Consultant (éŠ·å”®é¡§å•) - SC

2. **Finance Department (FD)**: This department manages the company's finances, including budgeting, financial reporting, and financial planningÂ¹Â³.
    - Positions:
      1. Finance Manager (è²¡å‹™ç¶“ç†) - FMG
      2. Financial Analyst (è²¡å‹™åˆ†æå¸«) - FAN
      3. Financial Controller (è²¡å‹™æ§åˆ¶å“¡) - FCO
      4. Finance Clerk (è²¡å‹™æ–‡å“¡) - FCL
      5. Financial Advisor (è²¡å‹™é¡§å•) - FAD
      6. Finance Manager (è²¡å‹™ç¶“ç†) - FM
      7. Accountant (æœƒè¨ˆå¸«) - ACC
      8. Financial Analyst (è²¡å‹™åˆ†æå¸«) - FA
      9. Auditor (å¯©è¨ˆå“¡) - AUD
      10. Controller (æ§åˆ¶å“¡) - CON
      11. Treasurer (è²¡å‹™ä¸»ç®¡) - TRE
      12. Budget Analyst (é ç®—åˆ†æå¸«) - BA
      13. Tax Specialist (ç¨…å‹™å°ˆå“¡) - TS
      14. Payroll Clerk (å·¥è³‡ç®¡ç†å“¡) - PC

3. **Production/Operations Department (POD)**: This department manages the day-to-day activities required to produce and distribute the company's products or servicesÂ¹.
    - Positions:
      1. Operations Manager (é‹ç‡Ÿç¶“ç†) - OMG
      2. Production Manager (ç”Ÿç”¢ç¶“ç†) - PMG
      3. Operations Analyst (é‹ç‡Ÿåˆ†æå¸«) - OAN
      4. Production Planner (ç”Ÿç”¢è¦åŠƒå“¡) - PPL
      5. Operations Manager (é‹ç‡Ÿç¶“ç†) - OM
      6. Production Supervisor (ç”Ÿç”¢ä¸»ç®¡) - PS
      7. Warehouse Specialist (å€‰ç®¡äººå“¡) - WHS
      8. Inventory Manager (åº«å­˜ç¶“ç†) - IM
      9. Plant Manager (å·¥å» ç¶“ç†) - PM
      10. Production Worker (ç”Ÿç”¢å·¥äºº) - PW
      11. Quality Control Specialist (å“è³ªæ§åˆ¶å°ˆå“¡) - QCS
      12. Production Planner (ç”Ÿç”¢è¨ˆåŠƒå“¡) - PP
      13. Logistics Coordinator (ç‰©æµå”èª¿å“¡) - LC
      14. Operations Analyst (é‹ç‡Ÿåˆ†æå¸«) - OA
      15. Quality Assurance Manager (å“è³ªä¿è­‰ç¶“ç†) - QAM

4. **Research and Development Department (RDD)**: This department is responsible for developing new and existing products or services. They conduct research and development to create innovative offerings that meet customer needsÂ¹Â³.
    - Positions:
      1. Research Scientist (ç ”ç©¶ç§‘å­¸å®¶) - RSC
      2. Development Engineer (é–‹ç™¼å·¥ç¨‹å¸«) - DEN
      3. Research Analyst (ç ”ç©¶åˆ†æå¸«) - RAN
      4. Development Manager (é–‹ç™¼ç¶“ç†) - DMG
      5. Research Coordinator (ç ”ç©¶å”èª¿å“¡) - RCO
      6. Research Scientist (ç ”ç©¶ç§‘å­¸å®¶) - RS
      7. Development Engineer (é–‹ç™¼å·¥ç¨‹å¸«) - DE
      8. Lab Technician (å¯¦é©—å®¤æŠ€è¡“å“¡) - LT
      9. Product Manager (ç”¢å“ç¶“ç†) - PM
      10. Research Associate (ç ”ç©¶åŠ©ç†) - RA
      11. Data Analyst (æ•¸æ“šåˆ†æå¸«) - DA
      12. Project Manager (é …ç›®ç¶“ç†) - PJM
      13. Test Engineer (æ¸¬è©¦å·¥ç¨‹å¸«) - TE
      14. Research Director (ç ”ç©¶ç¸½ç›£) - RD
      15. Development Manager (é–‹ç™¼ç¶“ç†) - DM

5. **Customer Service Department (CSD)**: This department handles customer inquiries, complaints, and provides after-sales supportÂ³.
    - Positions:
      1. Customer Service Manager (å®¢æˆ¶æœå‹™ç¶“ç†) - CSM
      2. Customer Service Representative (å®¢æˆ¶æœå‹™ä»£è¡¨) - CSR
      3. Customer Support Specialist (å®¢æˆ¶æ”¯æ´å°ˆå“¡) - CSS
      4. Customer Experience Manager (å®¢æˆ¶é«”é©—ç¶“ç†) - CEM
      5. Customer Service Representative (å®¢æœä»£è¡¨) - CSR
      6. Help Desk Specialist (å¹«åŠ©å°å°ˆå“¡) - HDS
      7. Customer Service Manager (å®¢æœç¶“ç†) - CSM
      8. Call Center Agent (æœå‹™ä¸­å¿ƒä»£ç†) - CCA
      9. Technical Support Specialist (æŠ€è¡“æ”¯æ´å°ˆå“¡) - TSS
      10. Account Manager (å®¢æˆ¶ç¶“ç†) - AM
      11. Client Relations Manager (å®¢æˆ¶é—œä¿‚ç¶“ç†) - CRM
      12. Service Desk Analyst (æœå‹™å°åˆ†æå¸«) - SDA
      13. Customer Support Engineer (å®¢æˆ¶æ”¯æ´å·¥ç¨‹å¸«) - CSE
      14. Customer Experience Manager (å®¢æˆ¶é«”é©—ç¶“ç†) - CEM

6. **Purchasing Department (PD)**: This department is responsible for procuring goods and services for the organizationÂ¹.
    - Positions:
      1. Purchasing Manager (æ¡è³¼ç¶“ç†) - PMG
      2. Purchasing Agent (æ¡è³¼ä»£ç†äºº) - PAG
      3. Procurement Specialist (æ¡è³¼å°ˆå“¡) - PCS
      4. Purchasing Clerk (æ¡è³¼æ–‡å“¡) - PCL
      5. Procurement Analyst (æ¡è³¼åˆ†æå¸«) - PAN
      6. Purchasing Manager (æ¡è³¼ç¶“ç†) - PM
      7. Buyer (æ¡è³¼å“¡) - BUY
      8. Procurement Specialist (æ¡è³¼å°ˆå“¡) - PS
      9. Purchasing Clerk (æ¡è³¼æ–‡å“¡) - PC
      10. Supply Chain Analyst (ä¾›æ‡‰éˆåˆ†æå¸«) - SCA
      11. Vendor Manager (ä¾›æ‡‰å•†ç¶“ç†) - VM
      12. Procurement Manager (æ¡è³¼ç¶“ç†) - PRM
      13. Purchasing Coordinator (æ¡è³¼å”èª¿å“¡) - PCO
      14. Inventory Control Specialist (åº«å­˜æ§åˆ¶å°ˆå“¡) - ICS
      15. Purchasing Agent (æ¡è³¼ä»£ç†) - PA

7. **IT Department (ITD)**: This department is responsible for managing the company's information technology infrastructureâ´.
    - Positions:
      1. IT Manager (ITç¶“ç†) - ITM
      2. IT Technician (ITæŠ€è¡“å“¡) - ITT
      3. Network Engineer (ç¶²çµ¡å·¥ç¨‹å¸«) - NEN
      4. Software Developer (è»Ÿä»¶é–‹ç™¼äººå“¡) - SDE
      5. IT Support Specialist (ITæ”¯æ´å°ˆå“¡) - ISS
      6. IT Manager (ITç¶“ç†) - ITM
      7. Systems Administrator (ç³»çµ±ç®¡ç†å“¡) - SA
      8. Network Engineer (ç¶²çµ¡å·¥ç¨‹å¸«) - NE
      9. Database Administrator (æ•¸æ“šåº«ç®¡ç†å“¡) - DBA
      10. IT Support Specialist (ITæ”¯æ´å°ˆå“¡) - ISS
      11. Software Developer (è»Ÿä»¶é–‹ç™¼å“¡) - SD
      12. IT Analyst (ITåˆ†æå¸«) - ITA
      13. IT Project Manager (ITé …ç›®ç¶“ç†) - IPM
      14. Security Analyst (å®‰å…¨åˆ†æå¸«) - SEC
      15. Web Developer (ç¶²é é–‹ç™¼å“¡) - WD

8. **Human Resource Department (HR)**: äººåŠ›è³‡æºéƒ¨é–€
    - Positions:
      1. Human Resources Specialist (äººåŠ›è³‡æºå°ˆå“¡) - HRS
      2. Human Resources Manager (äººåŠ›è³‡æºç¶“ç†) - HRM
      3. Recruitment Specialist (æ‹›è˜å°ˆå“¡) - RS
      4. Training Coordinator (åŸ¹è¨“å”èª¿å“¡) - TC
      5. Benefits Administrator (ç¦åˆ©ç®¡ç†å“¡) - BA
      6. HR Analyst (äººåŠ›è³‡æºåˆ†æå¸«) - HRA
      7. Employee Relations Manager (å“¡å·¥é—œä¿‚ç¶“ç†) - ERM
      8. HR Consultant (äººåŠ›è³‡æºé¡§å•) - HRC
      9. Payroll Specialist (è–ªè³‡å°ˆå“¡) - PS
      10. HR Assistant (äººåŠ›è³‡æºåŠ©ç†) - HRA

9. **Mine Department (MD)**
    - Positions:
      1. Mine Blaster Worker (ç¤¦å±±çˆ†ç ´å·¥) - MBW
      2. Underground Miner (åœ°ä¸‹ç¤¦å·¥) - UM
      3. Heavy Equipment Operator (é‡å‹è¨­å‚™æ“ä½œå“¡) - HEO
      4. Driller (é‘½å­”å“¡) - DR
      5. Electrician (é›»å·¥) - EL
      6. Material Planner (ææ–™è¦åŠƒå¸«) - MTP
      7. Health and Safety Specialist (å¥åº·èˆ‡å®‰å…¨å°ˆå“¡) - HSS
      8. Mine Manager (ç¤¦å±±ç¶“ç†) - MNM
      9. Chemist (åŒ–å­¸å®¶) - CH
      10. Geological Engineer (åœ°è³ªå·¥ç¨‹å¸«) - GE

---

## å…¬å¸çµæ§‹èˆ‡éƒ¨é–€åŠŸèƒ½å•ç­”

Q:

  In a company finacial department, if an order and invoice is not valid, could FD employee direct edit the data, or they should acknowledge the sales department?

A:

> In a company's financial department, if an order and invoice are found to be invalid, the financial department (FD) employee should typically follow the company's established protocols for such situations. Generally, direct editing of the data by the FD employee is not advisable due to the following reasons:
>
> - **Audit Trail**: Any changes made to financial documents should be traceable. Direct edits can obscure the history of transactions and may cause issues during audits.
>
> - **Separation of Duties**: This is a key principle in internal controls to prevent fraud and errors. The sales department is usually responsible for issuing and validating orders and invoices.
>
> - **Accuracy**: The sales department may have information that the financial department does not, which could affect the validity of the order or invoice.
>
> Therefore, the FD employee should **acknowledge the sales department** and follow these steps:
>
> 1. **Notify**: Inform the sales department of the discrepancy.
> 2. **Collaborate**: Work together with the sales department to understand the issue.
> 3. **Correct**: Once the sales department has reviewed and corrected the information, the FD can update the financial records accordingly.
>
> This process ensures that all changes are made transparently and with the proper checks and balances. It's important to consult the company's policy manual or speak with a supervisor to ensure that the correct procedures are followed. **Communication** and **collaboration** between departments are key to maintaining the integrity of financial records.

## å¾è¨‚å–®ç·¨è™Ÿå–çš„ä¸‹å–®æ—¥æœŸä¸¦è¨ˆç®—èˆ‡ä»Šæ—¥çš„å¤©æ•¸å·®è·

Q:

my order_id is date based, can I extract the date can get duration between that date and today?
order_id
20240611-zF8

A:

You can achieve this in SQL as well. Here's an example using MySQL:

```sql
SELECT 
    order_id, 
    DATEDIFF(CURDATE(), STR_TO_DATE(SUBSTRING_INDEX(order_id, '-', 1), '%Y%m%d')) AS duration
FROM 
    orders_table
WHERE 
    order_id = '20240611-zF8';
```

In this query, `SUBSTRING_INDEX(order_id, '-', 1)` is used to extract the date part from the `order_id`. `STR_TO_DATE` is then used to convert this string to a date. `DATEDIFF` is used to calculate the difference in days between the current date (`CURDATE()`) and the order date. The result is selected as `duration`.

Please replace `'20240611-zF8'` with your actual `order_id` and `orders_table` with your actual table name when you run the query.

This query assumes that the date in the `order_id` is in the format `YYYYMMDD`. If the format is different, you would need to adjust the format string in the `STR_TO_DATE` function accordingly.

Also, please note that SQL syntax can vary between different database systems. If you're not using MySQL, you might need to adjust the query to match your database system's syntax. For example, in PostgreSQL, you would use `CURRENT_DATE` instead of `CURDATE()`, and the date format string would be `'YYYYMMDD'` instead of `'%Y%m%d'`. If you're using a different database system and need help adjusting the query, please let me know.

## polymorphic associations

Q:

In a database, can an attribute of a table reference 2 table?
Here I have 2 entities, Client and Supplier, I want TransactionParty in Oders reference these 2 table.

A:

In a relational database, an attribute typically references a single table through a foreign key constraint. However, if you want the `TransactionParty` attribute in the `Orders` table to reference both `Customer` and `Supplier` tables, you cannot directly create two foreign key constraints on the same attribute referencing two different tables.

To achieve this, you can use a design pattern known as **polymorphic associations**. Here's one way to implement it:

1. Modify the `Orders` table to include two separate attributes for the foreign keys, one for customers and one for suppliers:

    ```sql
    Orders (
        OrderNumber: string,
        PaymentDate: date,
        PaymentMethod: string,
        CustomerID: string,
        SupplierID: string
    )
    Primary Key: OrderNumber
    Foreign Key: CustomerID References Customer
    Foreign Key: SupplierID References Supplier
    ```

2. Allow `CustomerID` and `SupplierID` to be nullable, meaning an order can be associated with either a customer or a supplier, but not both at the same time.

3. Add a check constraint to ensure that one and only one of `CustomerID` or `SupplierID` is non-null for each order.

Here's how the modified SQL script might look:

```sql
CREATE TABLE Orders (
    OrderNumber string NOT NULL,
    PaymentDate date NOT NULL,
    PaymentMethod string NOT NULL,
    CustomerID string NULL,
    SupplierID string NULL,
    CONSTRAINT PK_Orders PRIMARY KEY (OrderNumber),
    CONSTRAINT FK_Orders_Customer FOREIGN KEY (CustomerID) REFERENCES Customer(CustomerID),
    CONSTRAINT FK_Orders_Supplier FOREIGN KEY (SupplierID) REFERENCES Supplier(SupplierID),
    CONSTRAINT CHK_Orders_OneParty CHECK (
        (CustomerID IS NOT NULL AND SupplierID IS NULL) OR
        (CustomerID IS NULL AND SupplierID IS NOT NULL)
    )
);
```

This approach ensures that each order is linked to either a customer or a supplier, maintaining the integrity of your database design. Remember to adjust the data types and constraints as per your database's specific requirements. ğŸ˜Š

## å¾è¨‚å–®æ‰¾äº¤æ˜“å°è±¡

To record either a customer or supplier in the `äº¤æ˜“å°è±¡` field of the `æ”¶ä»˜æ¬¾æ˜ç´°` table, you can modify the `è¨‚å–®` (Orders) table to include both a `CustomerID` and a `SupplierID`. Then, in the `æ”¶ä»˜æ¬¾æ˜ç´°` (PaymentDetail) table, you can reference the `è¨‚å–®` table and use a conditional check to determine whether the transaction party is a customer or supplier based on which field is populated. Here's how you can adjust your tables:

With these changes, when you create a record in the `æ”¶ä»˜æ¬¾æ˜ç´°` table, you will reference the `OrderNumber`. The `è¨‚å–®` table will indicate whether the transaction is related to a customer or supplier by checking which ID field (`CustomerID` or `SupplierID`) is filled.

Here's an example of how you might check this in a query:

```sql
SELECT
    pd.BillNumber,
    pd.OrderNumber,
    CASE
        WHEN o.CustomerID IS NOT NULL THEN 'Customer'
        WHEN o.SupplierID IS NOT NULL THEN 'Supplier'
    END AS TransactionPartyType,
    COALESCE(o.CustomerID, o.SupplierID) AS TransactionPartyID,
    pd.BankCode,
    pd.TransactionDate,
    pd.Amount
FROM
    PaymentDetail pd
JOIN
    Orders o ON pd.OrderNumber = o.OrderNumber
```

This SQL query uses a `CASE` statement to determine the type of the transaction party and the `COALESCE` function to get the non-null `CustomerID` or `SupplierID`. This way, you can record and identify whether the transaction party is a customer or supplier without altering the structure of the `æ”¶ä»˜æ¬¾æ˜ç´°` table. Remember to adjust your application logic accordingly to handle these changes.
